/*!
 * angular-ui-scroll
 * https://github.com/angular-ui/ui-scroll.git
 * Version: 1.4.1 -- 2016-05-17T08:17:23.199Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.scroll.grid",[]).directive("uiScrollTh",["$log","$timeout",function(a,b){function c(a){this.getLayout=function(){return a.getLayout()},this.applyLayout=function(b){a.applyLayout(b)},Object.defineProperty(this,"columns",{get:function(){return a.getColumns()}})}function d(a,b){this.css=function(){var a=arguments[0],c=arguments[1];return 1==arguments.length?b.header.css(a):void(2==arguments.length&&(b.header.css(a,c),b.cells.forEach(function(b){b.css(a,c)}),b.layout.css[a]=c))},this.moveBefore=function(b){a.moveBefore(this,b)}}function e(a,e){var f,g,h=this,i=[];b(function(){e.adapter.gridAdapter=new c(h)}),this.registerColumn=function(a){i.push({header:a,cells:[],layout:{css:{}},mapTo:i.length,reset:function(){this.header.removeAttr("style"),this.cells.forEach(function(a){return a.removeAttr("style")})}})},this.registerCell=function(a,b){return f!==a&&(g=0,f=a),g<i.length?(i[g].cells.push(b),g++):-1},this.unregisterCell=function(a,b){var c=i[a].cells.indexOf(b);i[a].cells.splice(c,1)},this.getColumns=function(){var a=this,b=[];return i.forEach(function(c){return b.push(new d(a,c))}),b},this.getLayout=function(){var a=[];return i.forEach(function(b,c){a.push({index:c,layout:{css:angular.extend({},b.layout.css)},mapTo:b.mapTo})}),a},this.applyLayout=function(a){var b=this;a.forEach(function(a,c){if(!(0>c||c>=i.length)){var e=new d(b,i[c]);i[c].reset();for(var f in a.layout.css)a.layout.css.hasOwnProperty(f)&&new e.css(f,a.layout.css[f])}})},this.moveBefore=function(a,b){0>b||b>=i.length||(i.forEach(function(a){a.mapTo>=b&&a.mapTo++}),i.forEach(function(b){b.mapTo>a.mapTo&&b.mapTo--}),a.mapTo=b)}}return{require:["^^uiScrollViewport"],link:function(a,b,c,d,f){var g=d[0].gridController=d[0].gridController||new e(a,d[0]);g.registerColumn(b)}}}]).directive("uiScrollTd",["$log",function(a){return{require:["?^^uiScrollViewport"],link:function(a,b,c,d,e){if(d[0]){var f=d[0].gridController,g=f.registerCell(a,b);g>=0&&(b.attr("ui-scroll-td",g),a.$on("$destroy",function(){f.unregisterCell(g,b)}))}}}}])}();